








                     WikiTeX 1.0 README

          Peter Danenberg <pcd at wikitex dot org>



                          ABSTRACT

          Covers  installation  and  expansion  of  the
     WikiTeX system.



5 February 2005




















































                     WikiTeX 1.0 README

          Peter Danenberg <pcd at wikitex dot org>

                     Table of Contents


1. Introduction  . . . . . . . . . . . . . . . . . . . .   1
2. Acquisition . . . . . . . . . . . . . . . . . . . . .   1
     2.1 CVS . . . . . . . . . . . . . . . . . . . . . .   1
     2.2 FTP . . . . . . . . . . . . . . . . . . . . . .   2
     2.3 HTTP  . . . . . . . . . . . . . . . . . . . . .   2
     2.4 Subversion  . . . . . . . . . . . . . . . . . .   2
3. Installation  . . . . . . . . . . . . . . . . . . . .   2
     3.1. Stand-alone distribution . . . . . . . . . . .   2
     3.2. Pre-packaged distribution  . . . . . . . . . .   2
     3.2.1. Java SVG (Batik) . . . . . . . . . . . . . .   3
4. Expansion . . . . . . . . . . . . . . . . . . . . . .   4
5. Copyright . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

          WikiTeX extends MediaWiki by allowing  authors  to
     manipulate  graphical  objects  directly in their arti-
     cles; support so  far  includes:  math,  music,  chess,
     chemistry, go, plots and relational diagrams.  To learn
     more about WikiTeX, please visit:

          http://wikitex.org

     or http://wikisophia.org to see it in action.

2.  Acquisition

          WikiTeX is available in  two  formats:  standalone
     and  integral; use standalone to integrate WikiTeX with
     a pre-existing MediaWiki installation, or integral  for
     pre-packaged WikiTeX.

     2.1.  CVS

               Stand-alone  WikiTeX from MediaWiki's Source-
          Forge CVS:*

     cvs -d:pserver:anonymous@cvs.sf.net:/cvsroot/wikipedia \
     co wikitex


-----------
  * Actual development versions are available  via
Subversion below.



                       5 February 2005





                             -2-


     2.2.  FTP

               Stand-alone  and integral versions are avail-
          able from:

               ftp://wikitex.org

     2.3.  HTTP

               Stand-alone and integral versions are  avail-
          able from:

               http://wikitex.org/wikitex

     2.4.  Subversion

               Get the latest development version of WikiTeX
          with your  Subversion  client  (http://subversion.
          tigris.org):

               svn co http://svn.wikitex.org/trunk wikitex

          or  visit  http://svn.wikitex.org  to  browse  the
          codebase via web.

3.  Installation

          Depending on your distribution,  installation  may
     consist of three or more steps; and assumes some famil-
     iarity with httpd.

          Each  presupposes  a  succesful  installation   of
     MediaWiki.

     3.1.  Stand-alone distribution

               In addition to the pre-packaged distribution,
          perform these steps twain:

          1.   From the base installation directory,  create
               /extensions/wikitex; copy there the distribu-
               tion.

          2.   Add the following line to  /LocalSettings.php
               before the terminal '?>':

               include './extensions/wikitex/wikitex.php';

               You may now continue  with  normal  installa-
          tion.







                       5 February 2005





                             -3-


     3.2.  Pre-packaged distribution

          1.   Render  /extensions/wikitex/tmp  scribable to
               the web server, but beware to disable script-
               ing.

          2.   Verify  that ImageMagick (imagemagick.org) is
               present,  and  acquire   Jan-Aoke   Larsson's
               dvipng:

                    http://sourceforge.net/projects/dvipng/

          3.   Install as many of the following packages  as
               you  would  like  to support, or add your own
               (see Expanding WikiTeX):

     Class   Package         Author               URL
     --------------------------------------------------------
     batik SVG Java    Apache               apache.org
     chem  PPCH-TeX    Hans Hagen           pragma-ade.com
     chess LaTeX Chess Piet Tutelaers       tug.org
     feyn  Feynman     Michael Levine       ctan.org
     go    Go          Daniel Bump          stanford.edu
     graph Graphviz    Emden Gansner        research.att.com
     greek Ibycus      Pierre MacKay        tug.org
     ling  AVM         Christopher Manning  stanford.edu
           Parsetree   Eirik Hektoen        essex.ac.uk
     math* AMS-LaTeX   Amer. Math. Soc.     ams.org
     music Lilypond    Han-Wen Nienhuys     lilypond.org
     plot  Gnuplot     Nikos Drakos         gnuplot.info
     svg   SVG lite    ImageMagick          imagemagick.org
     teng  Tengwar     Ivan Derzhanski      quettar.org
     tipa  TIPA        Rei Fukui            ctan.org
     xym   XyMTeX      Shinsaku Fujita      kit.ac.jp


          4.   Lastly, ensure that your server's $PATH vari-
               able includes /usr/bin and /usr/local/bin, or
               wherever your binaries are installed.

          3.2.1.  Installing Batik

                    Installing  Batik  (the  Java-based  SVG
               toolkit) requires several unique steps:

               1.   Install Java (java.sun.com).

               2.   Install Batik (xml.apache.org/batik); if
                    elsewhere than /usr/local/batik, config-
                    ure wikitex.inc.sh.
-----------
  * Nota bene: <amsmath> replaces <math> in stand-
alone  distributions  to  avoid  conflicting  with
texvc, MediaWiki's built-in math renderer.



                       5 February 2005





                             -4-


               3.   If  you  have XWindows, the Xserver Vir-
                    tual Frame Buffer  should  be  included;
                    configure  Xvfb  to  start up at runtime
                    by:

                    a.   Copying the provided xvfb script to
                         /etc/init.d

                    b.   Linking xvfb at the prompt:

                    ln -s /etc/init.d/xvfb /etc/rc2.d/S98xvfb

               4.   Add the following to apachectl or equiv-
                    alent:

                         DISPLAY=localhost:1.0
                         export DISPLAY

4.  Expanding WikiTeX

          Adding  novel  packages to WikiTeX can be achieved
     in several discrete steps; after  you  have  downloaded
     and installed the package:

          1.   Devise  a class name for the package, and add
               a template  to  /extensions/wikitex  in  this
               form:

                    wikitex.<classname>.inc.<ext>

               The  template  should  expose said package to
               the renderer; see the current  templates  for
               examples.

          2.   Unless  the  class requires non-standard pro-
               cessing (confer  Lilypond's  midi),  skip  to
               step three; else, add a new function in wiki-
               tex.sh under <class>.

               Consult wikitex.sh for examples.

          3.   Lastly, if the package  contains  undesirable
               or insecure directives, add them to:

                    objRend::strPost()::arrBlack[<class>]

               in wikitex.php; the which see for details.










                       5 February 2005





                             -5-


WikiTeX: expansible LaTeX module for MediaWiki
Copyright (C) 2004-5  Peter Danenberg

     WikiTeX is licensed under the Creative Commons Attribu-
tion  License.  To  view  a  copy  of  this  license,  visit
http://creativecommons.org/licenses/by/2.0/ or send a letter
to  Creative Commons, 559 Nathan Abbott Way, Stanford, Cali-
fornia 94305, USA.

















































                       5 February 2005


